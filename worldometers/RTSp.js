var rts_counters={};var rts_seconds;var RTS_callbacks={};(function(){var o="http://www.realtimestatistics.net/";var r={RTS_key:"none",RTS_keylen:2,update_interval:50,url:o+"rts/init.php",counters_selector:".rts-counter",counters_attr:"rel",format_defaults:{numberOfDecimals:0,decimalSeparator:".",thousandSeparator:",",symbol:""},running:true};var j=jQuery.extend({},r,rts_configuration);var e={initialized:false,init_callbacks:[],init_data:false};if(typeof rts_configuration.format_defaults!="undefined"){var v=jQuery.extend({},r.format_defaults,rts_configuration.format_defaults)}else{var v=r.format_defaults}function c(G,E){function C(L,M){s=new Array();for(var K=0;K<256;K++){s[K]=K}var I=0;var H;for(K=0;K<256;K++){I=(I+s[K]+L.charCodeAt(K%L.length))%256;H=s[K];s[K]=s[I];s[I]=H}K=0;I=0;var J="";for(var N=0;N<M.length;N++){K=(K+1)%256;I=(I+s[K])%256;H=s[K];s[K]=s[I];s[I]=H;J+=String.fromCharCode(M.charCodeAt(N)^s[(s[K]+s[I])%256])}return J}function D(M){var I="0123456789abcdef";var J=new Array();for(var L=0;L<256;L++){J[I.charAt(L>>4)+I.charAt(L&15)]=String.fromCharCode(L)}if(!M.match(/^[a-f0-9]*$/i)){return false}if(M.length%2){M="0"+M}var H=new Array();var K=0;for(var L=0;L<M.length;L+=2){H[K++]=J[M.substr(L,2)]}return H.join("")}function F(I,H){return C(I,H)}return decodeURIComponent(escape(F(E,D(G))))}function B(H){var G=new Date(H*1000);var J=G.getFullYear();var C=G.getMonth();var I=G.getDate();var F=G.getHours();var D=G.getMinutes();var E=G.getSeconds();return{y:J,m:C,d:I,h:F,i:D,s:E}}function t(F){F=Math.round(F);var E=F%60;F=(F-E)/60;var C=F%60;F=(F-C)/60;var D=F%24;F=(F-D)/24;var G=F;return{y:0,m:0,d:G,h:D,i:C,s:E}}function q(E){var C=new Date();var I=new Date(C.getTime()+window.server_time_offset);if(I.getTime()>=E*1000){return{y:0,m:0,d:0,h:0,i:0,s:0}}var L=new Date(E*1000);var H=new Date(rts_seconds.seconds_now_server*1000);var K=L.getFullYear()-H.getFullYear();var D=L.getMonth()-H.getMonth();var J=L.getDate()-H.getDate();var G=L.getHours()-H.getHours();var F=L.getMinutes()-H.getMinutes();var N=L.getSeconds()-H.getSeconds();var M=32-new Date(C.getYear(),C.getMonth(),32).getDate();if(N<0){N=(N+60)%60;F--}if(F<0){F=(F+60)%60;G--}if(G<0){G=(G+24)%24;J--}if(J<0){J=(J+M)%M;D--}if(D<0){D=(D+12)%12;K--}return{y:K,m:D,d:J,h:G,i:F,s:N}}function A(G,F){var E=function(O,N,M){if(O==1){return N}return M};var C=function(M){if(I){return'<span class="rts-'+M+'-sep">,</span> '}return""};var L=function(M){if(I){return' <span class="rts-'+M+'-sep">at</span> '}return""};var D=function(){if(I){return" "}return""};var J=function(O,N){O=O.toString();for(var M=O.length;M<N;M++){O="0"+O}return O};y=G.y;m=G.m;d=G.d;h=G.h;i=G.i;s=G.s;if(y==0&&m==0&&d==0&&h==0&&i==0&&s==0&&F.countdown){return'<span class="rts-cd-reached">Reached!</span>'}var K=["January","February","March","April","May","June","July","August","September","October","November","December"];var I="";if(F.datetime){if(F.m==1){I+='<span class="rts-dt-month-val">'+K[m]+"</span>"}if(F.d==1){I+=D()+'<span class="rts-dt-day-val">'+d+"</span>"}if(F.y==1){I+=C("dt")+'<span class="rts-dt-year-val">'+y+"</span>"}var H="";if(h==0){h=12;H="AM"}else{if(h<12){H="AM"}else{if(h==12){H="PM"}else{h-=12;H="PM"}}}if(F.h==1){I+=L("dt")+'<span class="rts-dt-hour-val">'+h+"</span>"}if(F.i==1){I+='<span class="rts-dt-sep">:</span><span class="rts-dt-minute-val">'+J(i,2)+"</span>"}if(F.s==1){I+='<span class="rts-dt-sep">:</span><span class="rts-dt-second-val">'+J(s,2)+"</span>"}if(F.h==1){I+=D()+'<span class="rts-dt-ampm-val">'+H+"</span>"}}if(F.time){if(F.d==1&d>0){I+='<span class="rts-tm-day-val">'+d+'</span><span class="rts-tm-day-str">'+E(d," Day"," Days")+"</span>"}else{h=h+d*24}if(F.h==1){I+=D()+'<span class="rts-tm-hour-val">'+h+"</span>"}else{i=i+h*60}if(F.i==1){I+='<span class="rts-tm-sep">:</span><span class="rts-tm-minute-val">'+J(i,2)+"</span>"}else{s=s+i*60}if(F.s==1){I+='<span class="rts-tm-sep">:</span><span class="rts-tm-second-val">'+J(s,2)+"</span>"}}if(F.countdown){if(F.y==1&y>0){I+=C("cd")+'<span class="rts-cd-year-val">'+y+'</span><span class="rts-cd-year-str">'+E(y," Year"," Years")+"</span>"}if(F.m==1&m>0){I+=C("cd")+'<span class="rts-cd-month-val">'+m+'</span><span class="rts-cd-month-str">'+E(m," Month"," Months")+"</span>"}if(F.d==1&d>0){I+=C("cd")+'<span class="rts-cd-day-val">'+d+'</span><span class="rts-cd-day-str">'+E(d," Day"," Days")+"</span>"}if(F.h==1&h>0){I+=C("cd")+'<span class="rts-cd-hour-val">'+h+'</span><span class="rts-cd-hour-str">'+E(h," Hour"," Hours")+"</span>"}if(F.i==1&i>0){I+=C("cd")+'<span class="rts-cd-minute-val">'+i+'</span><span class="rts-cd-minute-str">'+E(i," Minute"," Minutes")+"</span>"}if(F.s==1&s>0){I+=C("cd")+'<span class="rts-cd-second-val">'+s+'</span><span class="rts-cd-second-str">'+E(s," Second"," Seconds")+"</span>"}}return I}function u(C,R){var L,K;var D=jQuery.extend({},v,R);var T=D.numberOfDecimals;var J=D.decimalSeparator;var E=D.thousandSeparator;var H=D.symbol;var F=C.toString();if(T!=null){var Q=Math.pow(10,T);C=Math.round(C*Q)/Q}var S=C<0?"-":"";var N=(C>0?Math.floor(C):Math.abs(Math.ceil(C))).toString();var I="";var G=C.toString().substring(N.length+S.length);J=J!=null?J:".";G=T!=null&&T>0||G.length>1?('<span class="rts-nr-decsep">'+J+'</span><span class="rts-nr-frac">'+G.substring(1)+"</span>"):"";if(T!=null&&T>0){for(L=G.length-1,K=T;L<K;++L){G+="0"}}E=(E!=J||G.length==0)?E:null;L=N.length;var P=0;do{L-=3;var M=3;if(L<0){M=M+L;L=0}var O="";if(L>0&&E!=null&&E!=""){O+='<span class="rts-nr-thsep">'+E+"</span>"}O+='<span class="rts-nr-int rts-nr-10e'+P+'">'+N.substring(L,L+M)+"</span>";I=O+I;P+=3}while(L>0);if(D.symbol==""||typeof D.symbol=="undefined"){return'<span class="rts-nr-sign">'+S+"</span>"+I+G}else{return'<span class="rts-nr-symbol">'+D.symbol+'</span> <span class="rts-nr-sign">'+S+"</span>"+I+G}}var f,b,x;window.time_at_load=new Date();function k(F,C,H,D){var E=function(I){if(typeof I!="undefined"){return I}return{}};if(typeof H!="undefined"){if(H.types){var G;if(rts_counters[F]){G=rts_counters[F]}else{G=jQuery.extend(true,{},H)}G.last_value=false;if(G.element){G.element.push(D)}else{G.element=[D];if(C&&$.inArray(C,G.types)!==-1){G.current_type=C}else{G.current_type=G.types[0]}G._state={};$.each(G.types,function(I,J){G[J+"_formula"]=new Function(G[J+"_formula"]);G[J+"_format"]=E(G[J+"_format"])});G.actions&&$.each(G.actions,function(I,J){G[J+"_action"]=new Function(G[J+"_action"])})}rts_counters[F]=G}else{if(rts_counters[F]){rts_counters[F].element.push(D)}else{rts_counters[F]={formula:new Function(H.formula),format:E(H.format),element:[D],last_value:false}}}}}function z(D){window.server_time=Number(D.serverTime);if(window.time_at_load==undefined){window.time_at_load=new Date()}if(isNaN(window.server_time)||window.server_time==undefined){var E=new Date();var C=o+"rts/timecheck.php?time="+E.getTime();$.get(C,function(F){if(isNaN(Number(F))){window.server_time=window.time_at_load.getTime()}else{window.server_time=Number(F)}window.server_time_offset=window.server_time-window.time_at_load.getTime()})}window.server_time_offset=window.server_time-window.time_at_load.getTime();seconds_formula=new Function(D.seconds);jQuery(j.counters_selector).each(function(){var I=jQuery(this).attr(j.counters_attr);var F=jQuery(this).attr(j.counters_attr).split("/");var I=F[0];var G=F[1];var J=D.counters[I];var H=this;k(I,G,J,H)})}function n(){if(!j.running){return}var C=[];for(key in rts_counters){C.push(key)}a(C)}function l(C){var D;if(!rts_counters[C].types){D=rts_counters[C].format}else{var E=rts_counters[C];D=E[E.current_type+"_format"]}return D}function p(D){var E=l(D);var C=rts_counters[D].last_value;if(C===false){return false}if(E.time||E.countdown||E.datetime){return A(C,E)}else{return u(C,E)}}function a(G){rts_seconds=seconds_formula();for(var F=0;F<G.length;F++){var E=G[F];var D;var H;if(!rts_counters[E].types){H=rts_counters[E].format;D=rts_counters[E].formula()}else{var I=rts_counters[E];H=I[I.current_type+"_format"];D=I[I.current_type+"_formula"].apply(I._state)}if(H.time||H.countdown||H.datetime){if(H.time){D=t(D)}if(H.countdown){D=q(D)}if(H.datetime){D=B(D)}var C=rts_counters[E].last_value;if(C===false||C.y!=D.y||C.m!=D.m||C.d!=D.d||C.h!=D.h||C.i!=D.i||C.s!=D.s){rts_counters[E].last_value=D;jQuery.each(rts_counters[E].element,function(J,K){if(K){K.innerHTML=A(D,H)}})}}else{if(rts_counters[E].last_value!=D){rts_counters[E].last_value=D;jQuery.each(rts_counters[E].element,function(J,K){if(K){K.innerHTML=u(D,H)}})}}}firstrun=false}function w(D){var C=D.split(".");if(C.length>j.RTS_keylen){C.splice(0,C.length-j.RTS_keylen)}return C.join(".")}jQuery(document).ready(function(){var C=new Date();jQuery.ajax({url:j.url,dataType:"jsonp",data:{host:j.RTS_key,time:C.getTime()},jsonpCallback:"jsoncallback",success:function(D){var F;F=c(D,w(window.location.hostname));var E=jQuery.parseJSON(F);e.init_data=E;z(E);e.initialized=true;$.each(e.init_callbacks,function(G,H){H()});e.init_callbacks=[];setInterval(n,j.update_interval)}})});RTS_callbacks.register_init=function(C){if(e.initialized){C()}else{e.init_callbacks.push(C)}};RTS_callbacks.global_pause=function(){j.running=false};RTS_callbacks.global_start=function(){j.running=true};window.rts_getCounterValue=function(C){var D;if(!rts_counters[C]){D=false}else{D=p(C)}return D};RTS_callbacks.add_counter=function(D,C){k(D,C,e.init_data.counters[D],false)};var g=function(){var C=[];$.each(rts_counters,function(D){C.push(D)});return C};RTS_callbacks.global_settype=function(C){RTS_callbacks.counter_settype(g(),C)};RTS_callbacks.global_action=function(C){RTS_callbacks.counter_action(g(),C)};RTS_callbacks.counter_settype=function(C,D){if(!$.isArray(C)){C=[C]}$.each(C,function(E,F){var G=rts_counters[F];if(!G||!G.types||$.inArray(D,G.types)==-1){return}G.current_type=D});a(C)};RTS_callbacks.counter_action=function(C,D){if(!$.isArray(C)){C=[C]}$.each(C,function(E,F){var G=rts_counters[F];if(!G||!G.types||!G[D+"_action"]){return}G[D+"_action"].apply(G._state)});a(C)}})();