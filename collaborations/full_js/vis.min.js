// usage: log('inside coolFunc', this, arguments);
// paulirish.com/2009/log-a-lightweight-wrapper-for-consolelog/
function writeDownloadLink(){var a=d3.select("svg").attr("title","test2").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML;d3.select("body").append("div").attr("id","download").style("top",event.clientY+20+"px").style("left",event.clientX+"px").html("Right-click on this preview and choose Save as<br />Left-Click to dismiss<br />").append("img").attr("src","data:image/svg+xml;base64,"+btoa(a)),d3.select("#download").on("click",function(){event.button==0&&d3.select(this).transition().style("opacity",0).remove()}).transition().duration(500).style("opacity",1)}window.log=function(){log.history=log.history||[],log.history.push(arguments);if(this.console){arguments.callee=arguments.callee.caller;var a=[].slice.call(arguments);typeof console.log=="object"?log.apply.call(console.log,console,a):console.log.apply(console,a)}},function(a){function b(){}for(var c="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),d;d=c.pop();)a[d]=a[d]||b}(function(){try{return console.log(),window.console}catch(a){return window.console={}}}()),jQuery(function(a){a("#about").click(function(b){return a("#basic-modal-content").modal(),!1})}),function(a){var b=a.browser.msie&&parseInt(a.browser.version)===6&&typeof window.XMLHttpRequest!="object",c=a.browser.msie&&parseInt(a.browser.version)===7,d=null,e=[];a.modal=function(b,c){return a.modal.impl.init(b,c)},a.modal.close=function(){a.modal.impl.close()},a.modal.focus=function(b){a.modal.impl.focus(b)},a.modal.setContainerDimensions=function(){a.modal.impl.setContainerDimensions()},a.modal.setPosition=function(){a.modal.impl.setPosition()},a.modal.update=function(b,c){a.modal.impl.update(b,c)},a.fn.modal=function(b){return a.modal.impl.init(this,b)},a.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},a.modal.impl={d:{},init:function(b,c){var e=this;if(e.d.data)return!1;d=a.browser.msie&&!a.boxModel,e.o=a.extend({},a.modal.defaults,c),e.zIndex=e.o.zIndex,e.occb=!1;if(typeof b=="object")b=b instanceof jQuery?b:a(b),e.d.placeholder=!1,b.parent().parent().size()>0&&(b.before(a("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),e.d.placeholder=!0,e.display=b.css("display"),e.o.persist||(e.d.orig=b.clone(!0)));else{if(typeof b!="string"&&typeof b!="number")return alert("SimpleModal Error: Unsupported data type: "+typeof b),e;b=a("<div></div>").html(b)}return e.create(b),e.open(),a.isFunction(e.o.onShow)&&e.o.onShow.apply(e,[e.d]),e},create:function(c){var g=this;e=g.getDimensions(),g.o.modal&&b&&(g.d.iframe=a('<iframe src="javascript:false;"></iframe>').css(a.extend(g.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:e[0],width:e[1],zIndex:g.o.zIndex,top:0,left:0})).appendTo(g.o.appendTo)),g.d.overlay=a("<div></div>").attr("id",g.o.overlayId).addClass("simplemodal-overlay").css(a.extend(g.o.overlayCss,{display:"none",opacity:g.o.opacity/100,height:g.o.modal?e[0]:0,width:g.o.modal?e[1]:0,position:"fixed",left:0,top:0,zIndex:g.o.zIndex+1})).appendTo(g.o.appendTo),g.d.container=a("<div></div>").attr("id",g.o.containerId).addClass("simplemodal-container").css(a.extend(g.o.containerCss,{display:"none",position:"fixed",zIndex:g.o.zIndex+2})).append(g.o.close&&g.o.closeHTML?a(g.o.closeHTML).addClass(g.o.closeClass):"").appendTo(g.o.appendTo),g.d.wrap=a("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(g.d.container),g.d.data=c.attr("id",c.attr("id")||g.o.dataId).addClass("simplemodal-data").css(a.extend(g.o.dataCss,{display:"none"})).appendTo("body"),g.setContainerDimensions(),g.d.data.appendTo(g.d.wrap),(b||d)&&g.fixIE()},bindEvents:function(){var c=this;a("."+c.o.closeClass).bind("click.simplemodal",function(a){a.preventDefault(),c.close()}),c.o.modal&&c.o.close&&c.o.overlayClose&&c.d.overlay.bind("click.simplemodal",function(a){a.preventDefault(),c.close()}),a(document).bind("keydown.simplemodal",function(a){c.o.modal&&a.keyCode===9?c.watchTab(a):c.o.close&&c.o.escClose&&a.keyCode===27&&(a.preventDefault(),c.close())}),a(window).bind("resize.simplemodal",function(){e=c.getDimensions(),c.o.autoResize?c.setContainerDimensions():c.o.autoPosition&&c.setPosition(),b||d?c.fixIE():c.o.modal&&(c.d.iframe&&c.d.iframe.css({height:e[0],width:e[1]}),c.d.overlay.css({height:e[0],width:e[1]}))})},unbindEvents:function(){a("."+this.o.closeClass).unbind("click.simplemodal"),a(document).unbind("keydown.simplemodal"),a(window).unbind("resize.simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var b=this,c=b.o.position;a.each([b.d.iframe||null,b.o.modal?b.d.overlay:null,b.d.container],function(a,b){if(b){var d=b[0].style;d.position="absolute";if(a<2)d.removeExpression("height"),d.removeExpression("width"),d.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),d.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else{var e;c&&c.constructor===Array?(a=c[0]?typeof c[0]=="number"?c[0].toString():c[0].replace(/px/,""):b.css("top").replace(/px/,""),a=a.indexOf("%")===-1?a+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(a.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',c[1]&&(e=typeof c[1]=="number"?c[1].toString():c[1].replace(/px/,""),e=e.indexOf("%")===-1?e+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(e.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(a='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',e='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),d.removeExpression("top"),d.removeExpression("left"),d.setExpression("top",a),d.setExpression("left",e)}}})},focus:function(b){var c=this;b=b&&a.inArray(b,["first","last"])!==-1?b:"first";var d=a(":input:enabled:visible:"+b,c.d.wrap);setTimeout(function(){d.length>0?d.focus():c.d.wrap.focus()},10)},getDimensions:function(){var b=a(window);return[a.browser.opera&&a.browser.version>"9.5"&&a.fn.jquery<"1.3"||a.browser.opera&&a.browser.version<"9.5"&&a.fn.jquery>"1.2.6"?b[0].innerHeight:b.height(),b.width()]},getVal:function(a,b){return a?typeof a=="number"?a:a==="auto"?0:a.indexOf("%")>0?parseInt(a.replace(/%/,""))/100*(b==="h"?e[0]:e[1]):parseInt(a.replace(/px/,"")):null},update:function(a,b){var c=this;if(!c.d.data)return!1;c.d.origHeight=c.getVal(a,"h"),c.d.origWidth=c.getVal(b,"w"),c.d.data.hide(),a&&c.d.container.css("height",a),b&&c.d.container.css("width",b),c.setContainerDimensions(),c.d.data.show(),c.o.focus&&c.focus(),c.unbindEvents(),c.bindEvents()},setContainerDimensions:function(){var d=this,g=b||c,h=d.d.origHeight?d.d.origHeight:a.browser.opera?d.d.container.height():d.getVal(g?d.d.container[0].currentStyle.height:d.d.container.css("height"),"h");g=d.d.origWidth?d.d.origWidth:a.browser.opera?d.d.container.width():d.getVal(g?d.d.container[0].currentStyle.width:d.d.container.css("width"),"w");var i=d.d.data.outerHeight(!0),j=d.d.data.outerWidth(!0);d.d.origHeight=d.d.origHeight||h,d.d.origWidth=d.d.origWidth||g;var l=d.o.maxHeight?d.getVal(d.o.maxHeight,"h"):null,n=d.o.maxWidth?d.getVal(d.o.maxWidth,"w"):null;l=l&&l<e[0]?l:e[0],n=n&&n<e[1]?n:e[1];var o=d.o.minHeight?d.getVal(d.o.minHeight,"h"):"auto";h=h?d.o.autoResize&&h>l?l:h<o?o:h:i?i>l?l:d.o.minHeight&&o!=="auto"&&i<o?o:i:o,l=d.o.minWidth?d.getVal(d.o.minWidth,"w"):"auto",g=g?d.o.autoResize&&g>n?n:g<l?l:g:j?j>n?n:d.o.minWidth&&l!=="auto"&&j<l?l:j:l,d.d.container.css({height:h,width:g}),d.d.wrap.css({overflow:i>h||j>g?"auto":"visible"}),d.o.autoPosition&&d.setPosition()},setPosition:function(){var a=this,b,c;b=e[0]/2-a.d.container.outerHeight(!0)/2,c=e[1]/2-a.d.container.outerWidth(!0)/2,a.o.position&&Object.prototype.toString.call(a.o.position)==="[object Array]"?(b=a.o.position[0]||b,c=a.o.position[1]||c):(b=b,c=c),a.d.container.css({left:c,top:b})},watchTab:function(b){var c=this;if(a(b.target).parents(".simplemodal-container").length>0){c.inputs=a(":input:enabled:visible:first, :input:enabled:visible:last",c.d.data[0]);if(!b.shiftKey&&b.target===c.inputs[c.inputs.length-1]||b.shiftKey&&b.target===c.inputs[0]||c.inputs.length===0)b.preventDefault(),c.focus(b.shiftKey?"last":"first")}else b.preventDefault(),c.focus()},open:function(){var b=this;b.d.iframe&&b.d.iframe.show(),a.isFunction(b.o.onOpen)?b.o.onOpen.apply(b,[b.d]):(b.d.overlay.show(),b.d.container.show(),b.d.data.show()),b.o.focus&&b.focus(),b.bindEvents()},close:function(){var b=this;if(!b.d.data)return!1;b.unbindEvents();if(a.isFunction(b.o.onClose)&&!b.occb)b.occb=!0,b.o.onClose.apply(b,[b.d]);else{if(b.d.placeholder){var c=a("#simplemodal-placeholder");b.o.persist?c.replaceWith(b.d.data.removeClass("simplemodal-data").css("display",b.display)):(b.d.data.hide().remove(),c.replaceWith(b.d.orig))}else b.d.data.hide().remove();b.d.container.hide().remove(),b.d.overlay.hide(),b.d.iframe&&b.d.iframe.hide().remove(),setTimeout(function(){b.d.overlay.remove(),b.d={}},10)}}}}(jQuery),function(){var a;a=typeof exports!="undefined"&&exports!==null?exports:this,$(function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U=this;return k={"abmayr lab":"development","baumann lab":"chromosome dynamics","blanchette lab":"rna","conaway lab":"transcription","gerton lab":"chromosome dynamics","gibson lab":"development","hawley lab":"chromosome dynamics","jaspersen lab":"chromosome dynamics","krumlauf lab":"development","li l lab":"stem cells","li r lab":"cell biology","mak lab":"lipid metabolism","piotrowski lab":"development","sanchez lab":"stem cells","shilatifard lab":"transcription","si lab":"neurobiology","trainor lab":"development","workman lab":"transcription","xie lab":"stem cells","yu lab":"neurobiology","zeitlinger lab":"transcription"},g={"abmayr lab":!0,"baumann lab":!0,"blanchette lab":!0,"conaway lab":!0,"gerton lab":!0,"gibson lab":!0,"hawley lab":!0,"jaspersen lab":!0,"krumlauf lab":!0,"li l lab":!0,"li r lab":!0,"mak lab":!0,"shilatifard lab":!0,"si lab":!0,"trainor lab":!0,"workman lab":!0,"xie lab":!0,"yu lab":!0,"zeitlinger lab":!0},D={"coffman lab":!0,"cowan lab":!0,"du lab":!0,"pourquie lab":!0,"eggan lab":!0,"sauer lab":!0,"golic lab":!0,"davidson 1 lab":!0,"davidson lab":!0},e={"cytometry facility":!0,"research advisor":!0,"kulesa imaging":!0,"proteomics center":!0,"bioinformatics center":!0,"molecular biology facility":!0,"histology facility":!0,"microscopy center":!0,"reptiles & amphibians facility":!0,"tissue culture facility":!0,"laboratory animal services":!0,"president emeritus":!0},u={"robert krumlauf":2,"susan abmayar":2,"peter baumann":2,"marco blanchette":2,"joan conaway":2,"ronald conaway":2,"jennifer gerton":2,"matthew gibson":2,"r hawley":2,"sue jaspersen":2,"linheng li":2,"rong li":2,"ho mak":2,"tatjana piotrowski":2,"alejandro sanchez":2,"ali shilatifard":2,"kausik si":2,"paul trainor":2,"jerry workman":2,"ting xie":2,"ron yu":2,"julia zeitlinger":2,"paul kulesa":2,"arcady mushegian":2,"michael washburn":2,"william neaves":2,"leanne wiedemann":2,"kevin eggan":2,"chunying du":2,"james coffman":2,"brian sauer":2,"susan abmayr":2,"olivier pourquie":2,"chad cowan":2},d3.select("#generate").on("click",writeDownloadLink),T=960,r=900,F=6,O=.6,P=.8,w=13,z="#ddd",E=T/2,x=T/4,c=d3.svg.line.radial().radius(T/2).angle(function(a){return a}),G=function(a,b){var c,d;return c=T/2+b*Math.cos(a*Math.PI/180),d=r/2+b*Math.sin(a*Math.PI/180),[c,d]},N=function(a,b){var c,d;return c=T/2+a*Math.cos(v*Math.PI/180),d=r/2+a*Math.sin(v*Math.PI/180),[c,d]},j=null,b={},m={},A=[],B=null,y=[],C={},q=null,Q=0,f="group",h="current",i="size",n=d3.scale.category20(),p=d3.scale.category10(),o=d3.scale.category10(),S=d3.select("#vis").append("svg").attr("id","vis-svg").attr("width",T).attr("height",r),S.append("rect").attr("width",T).attr("height",r).attr("fill","none").attr("pointer-events","all"),q=d3.layout.force().charge(-20).size([T,r]).linkDistance(50),I=function(a,b,c){var d,e,f,g,h;return d=c.getBBox(),e={height:d.height,width:d.width,x:d.x,y:d.y},e.x=Math.round(e.x)+0,e.y=Math.round(e.y)+0,e.width=Math.round(e.width),e.height=Math.round(e.height),g=C[a.name_hash],g&&t(g,!0),h=parseInt(d3.select("#tooltip").style("width").split("px").join("")),f="<table>",f+="<tr><td>"+a.first_name+" "+a.last_name+"</td></tr>",f+="<tr><td>"+a.group+"</td></tr>",g&&(f+="<tr><td>"+g[0].length+" connections"+"</td></tr>"),f+="</table>",d3.select("#tooltip").classed("hidden",!1),d3.select("#tooltip .content").html(f),d3.select("#tooltip").style("left",e.x+Math.round(e.width/2)-h/2-4+"px").style("top",e.y+e.height/3+25+"px"),d3.select("#box").style("left",e.x+"px").style("top",e.y+"px").style("width",e.width+"px").style("height",e.height+"px").classed("hidden",!1)},s=function(a){return a.attr("stroke-opacity",0).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0)},d=function(a,b){var c,d;return a==="group"?n(b.group):a==="function"?(a=e[b.group]?"core":"lab",p(a)):a==="discipline"?(c=(d=k[b.group])!=null?d:"other",o(c)):n(b.group)},R=function(a){var b,c,d,f,i,j,l,m;return d=[],a==="group"?(b=[],h==="current"?b=d3.merge([d3.keys(g),d3.keys(e)]):h==="all"?b=d3.merge([d3.keys(g),d3.keys(D),d3.keys(e)]):h==="labs_only"?b=d3.merge([d3.keys(g)]):h==="cores_only"?b=d3.merge([d3.keys(e)]):b=d3.merge([d3.keys(g),d3.keys(D),d3.keys(e)]),d=b.map(function(a){return{group:a,name:a,color:n(a)}})):a==="function"?d=[{group:"bioinformatics center",name:"core",color:p("core")},{group:"lab",name:"lab",color:p("lab")}]:a==="discipline"?(c={},d3.values(k).forEach(function(a){return c[a]=!0}),d=d3.keys(c).map(function(a){return{name:a,color:o(a)}}),d=d3.merge([d,[{name:"other",color:o("other")}]])):d=[],j=220,f=30,i=15,d3.select("#key").selectAll(".key").remove(),l=d3.select("#key").selectAll(".key").data(d).enter().append("div").attr("class","key"),m=l.append("svg").attr("width",j).attr("height",f).append("g").attr("transform","translate("+i+","+i+")"),m.append("circle").attr("r",5).attr("fill",function(a){return a.color}),m.append("text").attr("class","key_title").text(function(a){return a.name}).attr("dy",i/2-3).attr("dx",i)},a.color_nodes=function(a){return f=a,A.each(function(a){return d3.select(this).style("fill",function(a){return d(f,a)})}),R(f)},a.show_groups=function(b){return L(b),K(),J(),h=b,a.move_groups(i),R(f)},a.move_groups=function(a){return i=a,s(y),H(a),Q=0,q.start()},a.find_nodes=function(a){var b;return b=A.each(function(b){var c,e;return e=-1,a.length>0&&(c=b.first_name+" "+b.last_name,e=c.toLowerCase().search(new RegExp(a.toLowerCase()))),e<0?d3.select(this).style("fill",function(a){return d(f,a)}).attr("stroke-width",0).attr("stroke-opacity",0):d3.select(this).style("fill","#F38630").attr("stroke","#444").attr("stroke-width",2.5).attr("stroke-opacity",1)})},L=function(a){var b;return b=j.nodes,a==="current"&&(b=b.filter(function(a){return!D[a.group]})),a==="labs_only"&&(b=b.filter(function(a){return!D[a.group]&&!e[a.group]})),a==="cores_only"&&(b=b.filter(function(a){return!D[a.group]&&e[a.group]})),a==="pi_only"&&(b=b.filter(function(a){var b;return b=a.first_name.toLowerCase()+" "+a.last_name.toLowerCase(),u[b]&&!D[a.group]})),q.nodes(b),A=B.selectAll("circle.node").data(b,function(a){return a.name_hash}),A.enter().append("circle").attr("class","node").attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).attr("r",function(a){var b,c,d;return b=a.first_name.toLowerCase()+" "+a.last_name.toLowerCase(),c=(d=u[b])!=null?d:1,5*c}).style("fill",function(a){return d(f,a)}),A.on("mouseover",function(a,b){return I(a,b,this)}),A.on("mouseout",function(a,b){var c;d3.select("#tooltip").classed("hidden",!0),d3.select("#box").classed("hidden",!0),c=C[a.name_hash];if(c)return t(c,!1)}),A.exit().remove(),R(f)},K=function(){var a;return a=j.links.filter(function(a){return q.nodes().filter(function(b){return b.name_hash===a.source})[0]&&q.nodes().filter(function(b){return b.name_hash===a.target})[0]}),y=S.selectAll("line.link").data(a),y.enter().insert("line",".node_group").attr("class","link").attr("stroke",z).attr("stroke-opacity",0).attr("stroke-width",P),y.exit().remove()},J=function(){return m={},C={},A.each(function(a){var b;return C[a.name_hash]=S.selectAll("line.link").filter(function(b){return b.source===a.name_hash||b.target===a.name_hash}),m[b=a.group]||(m[b]=0),m[a.group]+=C[a.name_hash][0].length})},M=function(){var a,c,d,e,f,g;return g=d3.entries(C).sort(function(a,b){return b.value[0].length-a.value[0].length}),f=g.map(function(a){return a.key}),d=12,c=0,a=8,e=2,f.forEach(function(f,g){var h;return h=G(c,d),b[f]={x:h[0],y:h[1]},c+=a,e=g>20?2:6,d+=e})},H=function(a){var c,d,f,i,j,k,l,n,o;f=[],k=[],b={},a==="spiral"?M():a==="edge"?(o=d3.entries(m).sort(function(a,b){return b.value-a.value}),d=o.length>13?12:6,f=o.slice(0,d).map(function(a){return a.key}),k=o.slice(d).map(function(a){return a.key})):a==="lab_core"?(f=d3.keys(e),k=d3.keys(g),h==="all"&&(k=d3.merge([k,d3.keys(D)]))):(c={},A.each(function(a){var b;return c[b=a.group]||(c[b]=0),c[a.group]+=1}),f=d3.keys(c).filter(function(a){return c[a]>w}),k=d3.keys(c).filter(function(a){return c[a]<=w}));if(a!=="spiral")return j=-90,i=360/f.length,f.forEach(function(a){var c;return c=G(j,x),b[a]={x:c[0],y:c[1]},j+=i}),n=-160,l=360/k.length,k.forEach(function(a,c){var d;return d=G(n,E),b[a]={x:d[0],y:d[1]},n+=l})},t=function(a,b){return b?a.attr("stroke","#F38630").attr("stroke-width",1.2).attr("stroke-opacity",.8):a.attr("stroke",z).attr("stroke-width",P).attr("stroke-opacity",O)},l=function(a,b,c){var d;return d="<table id='link_table'><tr><th>Paper</th><th>Connection</th>",a.each(function(a){var e,f;return e=a.source===c?a.target:a.source,f=b[e],d+="<tr><td>"+a.title+"</td>",d+="<td>"+f.first_name+" "+f.last_name+"</td></tr>"}),d+="</table>",d3.select("#titles").html(d)},d3.json("data/links_and_nodes_name_hash.json",function(a){var c;return j=a,B=S.append("g").attr("class","node_group"),L(h),K(),J(),H(i),c=function(){return y.attr("stroke-opacity",O).attr("x1",function(a){return q.nodes().filter(function(b){return b.name_hash===a.source})[0].x}).attr("y1",function(a){return q.nodes().filter(function(b){return b.name_hash===a.source})[0].y}).attr("x2",function(a){return q.nodes().filter(function(b){return b.name_hash===a.target})[0].x}).attr("y2",function(a){return q.nodes().filter(function(b){return b.name_hash===a.target})[0].y})},q.start(),q.on("tick",function(a){var d;d=a.alpha*.1,A.each(function(a,c){var e;e=i!=="spiral"?b[a.group]:b[a.name_hash];if(e){a.x+=(e.x-a.x)*d,a.y+=(e.y-a.y)*d;if(Q%2===0)return d3.select(this).attr("cx",a.x),d3.select(this).attr("cy",a.y)}}),Q+=1;if(Q>100)return q.stop(),c()})})})}.call(this);